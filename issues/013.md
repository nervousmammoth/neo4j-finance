# Issue 013: POST /api/parse - File Parsing Endpoint

## Branch Name
`issue/013-api-parse`

## Objective
Create Next.js 15 API route for parsing uploaded CSV/XLSX files.

## Dependencies
- Issue 003, 004 merged

## Phase: RED - Write Failing Tests

### Test Cases (10+)
1. Parse CSV file successfully
2. Parse XLSX file successfully
3. Reject invalid file types
4. Handle file size limits
5. Multipart form data handling
6. Empty file error
7. Malformed file error
8. Response format validation
9. Error response format
10. File cleanup after parsing

### Test File Location
`__tests__/integration/api/parse.test.ts`

### Git Commit
```bash
git commit -m "test: add failing tests for parse API endpoint"
```

## Phase: GREEN - Implement

### Implementation (`app/api/parse/route.ts`)
```typescript
import { NextRequest, NextResponse } from 'next/server'
import { parseCSV } from '@/lib/csv-parser'
import { parseXLSX } from '@/lib/xlsx-parser'

export async function POST(request: NextRequest) {
  const formData = await request.formData()
  const file = formData.get('file') as File

  // Parse and return result
}
```

### Git Commit
```bash
git commit -m "feat: implement parse API endpoint"
```

## Acceptance Criteria
- [ ] All 10+ tests pass
- [ ] Coverage >= 100%
- [ ] PR merged âœ…

## Estimated Effort
**M** (Medium)
