# Issue 007: Relationship Inference Engine

## Branch Name
`issue/007-relationship-inference`

## Objective
Infer relationships between entities based on foreign keys and domain knowledge.

## Dependencies
- Issue 006 merged

## Phase: RED - Write Failing Tests

### Test Cases (25+)
1. Person -> Account (OWNS)
2. Company -> Account (OWNS)
3. Account -> Bank (HELD_AT)
4. Transaction -> Account (FROM/TO)
5. Person -> Company (OWNS/CONTROLS)
6. Employee -> Manager (REPORTS_TO)
7. Multiple relationship types
8. Bidirectional relationships
9. Self-referencing relationships
10. Relationship with properties
11. Confidence scoring
12. Ambiguous relationships
13. No relationships detected
14. Circular relationships
15. Many-to-many relationships
16-25. Edge cases and domain-specific rules

### Test File Location
`__tests__/unit/lib/relationship-inference.test.ts`

### Git Commit
```bash
git commit -m "test: add failing tests for relationship inference"
```

## Phase: GREEN - Implement

### Implementation (`lib/relationship-inference.ts`)
- Rule-based inference engine
- Relationship type mapping
- Confidence scoring

### Git Commit
```bash
git commit -m "feat: implement relationship inference engine"
```

## Phase: REFACTOR

### Refactoring Goals
- Extensible rule system
- Better confidence calculation
- Domain knowledge integration

### Git Commit
```bash
git commit -m "refactor: improve relationship inference rules"
```

## Acceptance Criteria
- [x] All 38 tests pass ✅
- [x] Coverage >= 100% ✅
- [x] PR merged ✅ (PR #8: https://github.com/nervousmammoth/neo4j-finance-frontend/pull/8)

## Estimated Effort
**L** (Large)
