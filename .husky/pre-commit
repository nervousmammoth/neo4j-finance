#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Load nvm
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
nvm use 20

echo "ğŸ” Running pre-commit checks..."

# Type check
echo "ğŸ“ Type checking..."
npm run type-check || exit 1

# Lint
echo "ğŸ§¹ Linting..."
npm run lint || exit 1

# Unit tests with coverage
echo "ğŸ§ª Running tests with coverage..."
npm run test:coverage || exit 1

echo "âœ… All pre-commit checks passed!"
